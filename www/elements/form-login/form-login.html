<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="form-login" vertical layout>
  <template>
      <style>
            :host {
                display: block;
                background: white;
                border: 1px solid grey;
                width: 100%;
                height: 100%;
                box-sizing: border-box;
            }
            .input-prompt {
                padding-bottom: 10px;
            }
          
            .content {
                width: 200px;
                margin: 30px auto 0;
            }
          
          .input-container input {
              width: 100%;
                box-sizing: border-box;
              
          }
          .input-container {
                padding-bottom: 10px;
          }
          
            .button {
                border: 1px solid grey;
                text-align: center;
                padding: 5px;
                background: #7e0a0a;
                color: white;
                border-radius: 5px;
                position: relative;
            }
          
          .button:hover {
              cursor: pointer;
                background: #950909;
          }
          .button:active {
              cursor: pointer;
              background: #950909;
              top: 1px;
              left: 1px;
          }
          
          .error {
              color: red;
              padding-bottom: 10px;
          }
      </style>
      <div class="content">
          <div class="input-prompt">
              Введите логин:
          </div>
          <div class="input-container">
            <input type="text" 
                   id="login"></input>
          </div>
          <div class="error">{{ errorMessage }}</div>
          <div class="button" 
               on-click="{{ doLogin }}">
              Вход
          </div>
      </div>
  </template>
  <script>
    (function () {
        Polymer({
            errorMessage: '',
            
            // define element prototype here
            doLogin: function () {
                var myLogin = this.$.login.value;
                if (myLogin == null || myLogin.trim() == '') {
                    this.errorMessage = 'Необходимо указать логин';
                    return;
                }

                this.errorMessage = '';
                console.log("Logged in as ", myLogin);
                this.fire('login', { login: myLogin });
            }
        });
    })();
  </script>
</polymer-element>


